config = tf.ConfigProto(device_count={'CPU': 1})
sess = tf.Session(config=config)
with sess.as_default():
  print(tf.constant(42).eval())

session_conf = tf.compat.v1.ConfigProto(
      intra_op_parallelism_threads=1,
      inter_op_parallelism_threads=1)
sess = tf.Session(config=session_conf)




get_inter_op_parallelism_threads(...): Get number of threads used for parallelism between independent operations.

get_intra_op_parallelism_threads(...): Get number of threads used within an individual op for parallelism.

def set_core(self):
    tf.config.threading.set_inter_op_parallelism_threads(2) #Set number of threads used for parallelism between independent operations.
    tf.config.threading.set_intra_op_parallelism_threads(2) #Set number of threads used within an individual op for parallelism.
